
/*
EMPLOYEE
	EMP_ID EMP_NAME

SALARY
	EMP_ID,  YEAR, SALARY
    
BONUS_TYPES
	BONUS_TYPE_ID, BONUS_TYPE_NAME

BONUS
	EMP_ID, YEAR, BONUS_TYPE_ID, BONUS

RATING
	EMP_ID,  YEAR, RATING

*/
DROP TABLE RATING;
DROP TABLE BONUS;
DROP TABLE BONUS_TYPES;
DROP TABLE SALARY;
DROP TABLE EMPLOYEE;
DROP TABLE DEPARTMENT;

CREATE TABLE DEPARTMENT
(
	DEPT_ID INT PRIMARY KEY,
    DEPT_NAME VARCHAR(100)
);

INSERT INTO DEPARTMENT VALUES(1,101);
INSERT INTO DEPARTMENT VALUES(2,102);
INSERT INTO DEPARTMENT VALUES(3,103);
INSERT INTO DEPARTMENT VALUES(4,104);
INSERT INTO DEPARTMENT VALUES(5,105);

CREATE TABLE EMPLOYEE
(
	EMP_ID INT PRIMARY KEY ,
    DEPT_ID INT,
    EMP_NAME VARCHAR(100),
    CONSTRAINT EMP_DEPT_FK FOREIGN KEY(DEPT_ID)
    REFERENCES DEPARTMENT(DEPT_ID)
);

INSERT INTO EMPLOYEE VALUES(101,1,'RAM');
INSERT INTO EMPLOYEE VALUES(102,2,'HARI');
INSERT INTO EMPLOYEE VALUES(103,2,'SITA');
INSERT INTO EMPLOYEE VALUES(104,1,'SURYA');
INSERT INTO EMPLOYEE VALUES(105,3,'DEVI');


CREATE TABLE SALARY
(
	EMP_ID INT,
    SALARY_AMOUNT DECIMAL (12,4),
    SALARY_CURR VARCHAR(3) DEFAULT 'INR',
    YEAR INT,
    SALARY_INCREASE INT DEFAULT 0,
    PRIMARY KEY(EMP_ID,YEAR),
    CONSTRAINT SALARY_EMP_FK FOREIGN KEY(EMP_ID)
    REFERENCES EMPLOYEE(EMP_ID)
);

INSERT INTO SALARY(EMP_ID, SALARY_AMOUNT,YEAR) VALUES(101,10000,2020);
INSERT INTO SALARY(EMP_ID, SALARY_AMOUNT,YEAR) VALUES(102,20000,2019);
INSERT INTO SALARY(EMP_ID, SALARY_AMOUNT,YEAR) VALUES(103,25000,2018);
INSERT INTO SALARY(EMP_ID, SALARY_AMOUNT,YEAR) VALUES(104,35000,2019);
INSERT INTO SALARY(EMP_ID, SALARY_AMOUNT,YEAR) VALUES(105,40000,2020);


CREATE TABLE BONUS_TYPES
(
	BONUS_TYPE_ID INT PRIMARY KEY,
    BONUS_TYPE_NAME VARCHAR(100)
);

INSERT INTO BONUS_TYPES VALUES(1003,'DIWALI_BONUS');
INSERT INTO BONUS_TYPES VALUES(1005,'NEW_YEAR_BONUS');




CREATE TABLE BONUS
(
    EMP_ID INT,
    YEAR INT, 
    BONUS_TYPE_ID INT, 
    BONUS_AMOUNT DECIMAL(12,4),
    BONUS_CURRENCY VARCHAR(3) DEFAULT 'INR',
    PRIMARY KEY(EMP_ID,YEAR,BONUS_TYPE_ID),
    CONSTRAINT BONUS_BONUSTYPES_FK FOREIGN KEY(BONUS_TYPE_ID)
    REFERENCES BONUS_TYPES(BONUS_TYPE_ID)
);

INSERT INTO BONUS(EMP_ID,YEAR,BONUS_TYPE_ID,BONUS_AMOUNT) VALUES(103,2018,1003,1500);
INSERT INTO BONUS(EMP_ID,YEAR,BONUS_TYPE_ID,BONUS_AMOUNT) VALUES(105,2020,1005,2000);
INSERT INTO BONUS(EMP_ID,YEAR,BONUS_TYPE_ID,BONUS_AMOUNT) VALUES(103,2018,1005,1000);
INSERT INTO BONUS(EMP_ID,YEAR,BONUS_TYPE_ID,BONUS_AMOUNT) VALUES(102,2019,1003,2000);
INSERT INTO BONUS(EMP_ID,YEAR,BONUS_TYPE_ID,BONUS_AMOUNT) VALUES(104,2020,1005,2500);
    
    
CREATE TABLE RATING
(
	EMP_ID INT, 
    YEAR INT, 
    RATING INT,
    PRIMARY KEY(EMP_ID,YEAR),
    CONSTRAINT RATING_EMP_FK FOREIGN KEY (EMP_ID)
    REFERENCES EMPLOYEE(EMP_ID) 
);

INSERT INTO RATING VALUES(101,2020,2);
INSERT INTO RATING VALUES(102,2019,3);
INSERT INTO RATING VALUES(103,2018,3);
INSERT INTO RATING VALUES(104,2019,4);
INSERT INTO RATING VALUES(105,2020,5);


